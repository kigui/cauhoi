<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Dog Quiz - Center Version</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        body {
            font-family: 'VT323', monospace;
            background-color: #f0f8ff;
            margin: 0;
            height: 100vh;
            overflow: hidden;
            /* Th√™m h√¨nh n·ªÅn pixel m·ªù n·∫øu th√≠ch */
            background-image: radial-gradient(#d0e8ff 2px, transparent 2px);
            background-size: 20px 20px;
        }

        /* --- THAY ƒê·ªîI CH√çNH: CƒÇN GI·ªÆA M√ÄN H√åNH --- */
        #pet-container {
            position: fixed;
            /* S·ª≠ d·ª•ng k·ªπ thu·∫≠t cƒÉn gi·ªØa tuy·ªát ƒë·ªëi */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            
            display: flex;
            flex-direction: column;
            align-items: center;
            z-index: 10;
            width: 300px; /* Gi·ªõi h·∫°n chi·ªÅu r·ªông ƒë·ªÉ tr√¥ng g·ªçn g√†ng ·ªü gi·ªØa */
        }

        /* B√ìNG N√ìI */
        #speech-bubble {
            background: white;
            border: 3px solid black;
            padding: 20px;
            border-radius: 15px;
            position: relative;
            margin-bottom: 20px; /* Kho·∫£ng c√°ch v·ªõi con ch√≥ */
            width: 100%;
            box-sizing: border-box;
            box-shadow: 6px 6px 0px rgba(0,0,0,0.2);
            font-size: 22px;
            text-align: center;
            /* display: none; <-- B·ªè d√≤ng n√†y ƒë·ªÉ n√≥ hi·ªán lu√¥n t·ª´ ƒë·∫ßu */
        }

        /* M≈©i t√™n ch·ªâ xu·ªëng c·ªßa b√≥ng n√≥i */
        #speech-bubble::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            border-width: 15px 15px 0;
            border-style: solid;
            border-color: black transparent transparent transparent;
        }

        /* KHUNG VU√îNG CH·ª®A CH√ì */
        #dog-box {
            width: 300px; /* TƒÉng k√≠ch th∆∞·ªõc m·ªôt ch√∫t */
            height: 250px;
            background-color: #ffcc00;
            border: 2px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            overflow: hidden; /* ƒê·∫£m b·∫£o ·∫£nh kh√¥ng tr√†n ra ngo√†i */
            box-shadow: 5px 5px 0px rgba(0,0,0,0.3);
            /* Hi·ªáu ·ª©ng nh√∫n nh·∫£y nh·∫π cho c·∫£ h·ªôp */
            animation: softBounce 2s infinite ease-in-out;
        }

        @keyframes softBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        #dog-box:hover {
            background-color: #ffd633; /* S√°ng l√™n khi di chu·ªôt v√†o */
        }

        /* --- THAY ƒê·ªîI CH√çNH: CSS CHO ·∫¢NH CH√ì --- */
        #pixel-dog-img {
            width: 90%;
            height: 90%;
            object-fit: cover; /* ƒê·∫£m b·∫£o ·∫£nh l·∫•p ƒë·∫ßy khung */
            /* Quan tr·ªçng: Gi·ªØ cho ·∫£nh pixel s·∫Øc n√©t khi ph√≥ng to */
            image-rendering: pixelated; 
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        /* PH·∫¶N GIAO DI·ªÜN NH·∫¨P LI·ªÜU */
        input[type="text"] {
            width: 100%;
            padding: 8px;
            margin-top: 15px;
            font-family: 'VT323', monospace;
            font-size: 20px;
            box-sizing: border-box;
            border: 2px solid black;
            text-align: center;
        }

        button {
            margin-top: 10px;
            background: #333;
            color: white;
            border: 2px solid black;
            padding: 8px 10px;
            font-family: 'VT323', monospace;
            cursor: pointer;
            width: 100%;
            font-size: 20px;
            transition: all 0.1s;
        }

        button:hover {
            background: #555;
            transform: translate(2px, 2px); /* Hi·ªáu ·ª©ng n√∫t b·∫•m */
            box-shadow: -2px -2px 0 black;
        }
        
        button:active {
            transform: translate(4px, 4px);
             box-shadow: none;
        }

        /* B·∫¢NG ƒêI·ªÇM */
        #score-board {
            position: absolute;
            top: -15px;
            right: -10px;
            background: #d32f2f;
            color: white;
            padding: 5px 10px;
            font-size: 18px;
            border: 2px solid black;
            transform: rotate(5deg);
        }

        /* CSS B·ª®C TH∆Ø (GI·ªÆ NGUY√äN) */
        #letter-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .letter {
            background: #fff8dc;
            width: 90%;
            max-width: 450px;
            padding: 40px;
            border: 3px solid #8b4513;
            box-shadow: 15px 15px 0px rgba(0,0,0,0.5);
            text-align: center;
            position: relative;
            transform: rotate(-2deg);
            animation: popIn 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Hi·ªáu ·ª©ng n·∫£y */
        }

        @keyframes popIn {
            0% { transform: scale(0) rotate(0deg); opacity: 0; }
            100% { transform: scale(1) rotate(-2deg); opacity: 1; }
        }

        .letter h1 { color: #d32f2f; margin-top: 0; font-size: 40px; letter-spacing: 2px; }
        .letter p { font-size: 26px; line-height: 1.4; color: #333; }
        .stamp {
            position: absolute;
            top: 20px; right: 20px;
            border: 3px dotted red;
            padding: 5px 10px; color: red;
            transform: rotate(15deg); font-weight: bold; font-size: 24px;
        }
    </style>
</head>
<body>

    <div id="pet-container">
        <div id="speech-bubble">
            <div id="score-board">ƒêi·ªÉm: <span id="score-val">0</span>/5</div>
            <p id="question-text" style="margin: 0;">Ch√†o m·ª´ng! T√¥i l√† Con M·ª° k·∫ª g√°c nh√† c·ªßa M·ªπ √ù n·∫øu mu·ªën g·∫∑p M·ªπ √ù th√¨ ph·∫£i tr·∫£ l·ªùi c√¢u h·ªèi ?.</p>
            
            <div id="input-area" style="display:none;">
                <input type="text" id="user-answer" placeholder="Nh·∫≠p ƒë√°p √°n..." autocomplete="off">
                <button onclick="checkAnswer()">G·ª≠i tr·∫£ l·ªùi</button>
            </div>
            
            <button id="start-btn" onclick="startGame()">Th·ª≠ th√°ch ngay!</button>
        </div>

        <div id="dog-box" onclick="pokeDog()">
            <img id="pixel-dog-img" src="15c144e8dc552a100b3292d268854499.gif" alt="Pixel Dog">
            
            </div>
    </div>

    <div id="letter-overlay">
        <div class="letter">
            <div class="stamp">ƒê√É CH·ª®NG NH·∫¨N</div>
            <h1>TH∆Ø CH√öC M·ª™NG</h1>
            <hr style="border-top: 2px dashed #8b4513;">
            <p>Tuy·ªát v·ªùi!</p>
            <p>B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng c·∫£ 5 c√¢u h·ªèi. H√£y v√†o nh√† v√† h√¥n M·ªπ √Ω m·ªôt c√°i ƒëi nh√© :)).</p>
            <p style="font-size: 50px; margin: 20px 0;">üèÜ ü¶¥ ü¶¥ ü¶¥</p>
            <button onclick="closeLetter()" style="background:#d32f2f; border-color: #a00000;">Nh·∫≠n ph·∫ßn th∆∞·ªüng</button>
        </div>
    </div>

    <script>
        // (Ph·∫ßn Javascript gi·ªØ nguy√™n logic nh∆∞ c≈©)
        let score = 0;
        const targetScore = 5;
        
      const questions = [
            // L∆∞u √Ω: C√°c ƒë√°p √°n trong ngo·∫∑c [] PH·∫¢I vi·∫øt th∆∞·ªùng ho√†n to√†n
            { q: "M√Ω √ù c√≥ t√™n ·ªü nh√† l√† g√¨?", a: ["loan"] },
            
            // B·∫°n c√≥ th·ªÉ th√™m nhi·ªÅu c√°ch tr·∫£ l·ªùi cho 1 c√¢u (v√≠ d·ª•: d∆∞a h·∫•u, qu·∫£ d∆∞a h·∫•u)
            { q: "M·ªπ √ù th√≠ch ƒÉn tr√°i c√¢y lo·∫°i g√¨?", a: ["d∆∞a h·∫•u", "qu·∫£ d∆∞a h·∫•u"] },
            
            { q: "Con m·ª° c√≥ m√†u g√¨", a: ["v√†ng", "m√†u v√†ng"] },
            
            { q: "M·ªπ √Ω c√≥ hay ng·ªß s·ªõm kh√¥ng ?", a: ["kh√¥ng", "ko", "k"] },
            
            { q: "M·ªπ √Ω c√≥ ph·∫£i l√† ng∆∞·ªùi xinh ƒë·∫πp kh√¥ng ?", a: ["c√≥", "yes", "ƒë√∫ng"] }
        ];

        let currentQuestion = null;

        const qText = document.getElementById('question-text');
        const inputArea = document.getElementById('input-area');
        const startBtn = document.getElementById('start-btn');
        const scoreVal = document.getElementById('score-val');
        const inputField = document.getElementById('user-answer');
        const dogImg = document.getElementById('pixel-dog-img');

        function startGame() {
            startBtn.style.display = 'none';
            inputArea.style.display = 'block';
            score = 0;
            scoreVal.innerText = score;
            qText.innerText = "ƒêang t·∫£i c√¢u h·ªèi...";
            setTimeout(nextQuestion, 500);
        }

        function nextQuestion() {
            const randomIndex = Math.floor(Math.random() * questions.length);
            currentQuestion = questions[randomIndex];
            qText.innerText = currentQuestion.q;
            inputField.value = '';
            inputField.focus();
        }

        function checkAnswer() {
            const userAns = inputField.value.trim().toLowerCase();
            
            if (currentQuestion.a.includes(userAns)) {
                score++;
                scoreVal.innerText = score;
                qText.innerHTML = "<span style='color:green'>Ch√≠nh x√°c! ü¶¥</span>";
                
                if (score >= targetScore) {
                    setTimeout(showVictory, 1000);
                } else {
                    setTimeout(nextQuestion, 1000);
                }
            } else {
                qText.innerHTML = "<span style='color:red'>Sai r·ªìi! Th·ª≠ l·∫°i nh√©.</span>";
                setTimeout(nextQuestion, 1500);
            }
        }

        inputField.addEventListener("keypress", function(event) {
            if (event.key === "Enter") checkAnswer();
        });

        function showVictory() {
            document.getElementById('letter-overlay').style.display = 'flex';
            inputArea.style.display = 'none';
            qText.innerText = "B·∫°n ƒë√£ chi·∫øn th·∫Øng!";
            startBtn.style.display = 'block';
            startBtn.innerText = "Ch∆°i l·∫°i t·ª´ ƒë·∫ßu";
        }

        function closeLetter() {
            document.getElementById('letter-overlay').style.display = 'none';
            score = 0; scoreVal.innerText = 0;
        }

        function pokeDog() {
            if(inputArea.style.display === 'none') {
                 qText.innerText = "G√¢u! ƒê·ª´ng ch·∫°m v√†o t√¥i, h√£y b·∫•m 'Th·ª≠ th√°ch ngay'!";
                 // Hi·ªáu ·ª©ng rung nh·∫π khi ch·∫°m
                 dogImg.style.transform = "translateX(5px)";
                 setTimeout(() => { dogImg.style.transform = "translateX(0)"; }, 100);
            }
        }
    </script>
</body>
</html>